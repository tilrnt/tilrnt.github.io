<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="https://tilrnt.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://tilrnt.github.io/" rel="alternate" type="text/html" /><updated>2018-05-23T22:14:07+01:00</updated><id>https://tilrnt.github.io/</id><title type="html">Today I Learnt</title><subtitle>A collection of notes on things I learn on a daily basis.</subtitle><author><name>Curated by Chee Yeo - 2018</name></author><entry><title type="html">Using journalctl to check hardware / bootup errors</title><link href="https://tilrnt.github.io/redhat/linux/2018/05/23/journalctl-troubleshoot.html" rel="alternate" type="text/html" title="Using journalctl to check hardware / bootup errors" /><published>2018-05-23T01:00:00+01:00</published><updated>2018-05-23T01:00:00+01:00</updated><id>https://tilrnt.github.io/redhat/linux/2018/05/23/journalctl-troubleshoot</id><content type="html" xml:base="https://tilrnt.github.io/redhat/linux/2018/05/23/journalctl-troubleshoot.html">&lt;p&gt;While trying to figure out a hardware issue during startup, I discovered that on systemd systems, the &lt;code class=&quot;highlighter-rouge&quot;&gt;journald&lt;/code&gt; daemon collects logs from early in the boot process.&lt;/p&gt;

&lt;p&gt;One can use &lt;code class=&quot;highlighter-rouge&quot;&gt;journalctl&lt;/code&gt; to view systemd logs for issues:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo journalctl -b -p err
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;One can then page through the errors list, if any, to resolve any issue.&lt;/p&gt;

&lt;p&gt;More details on how systemd works can be found on &lt;a href=&quot;(https://en.wikipedia.org/wiki/Systemd)&quot;&gt;Wikipedia&lt;/a&gt; and there is
a &lt;a href=&quot;9https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs&quot;&gt;DigitalOcean tutorial&lt;/a&gt;.&lt;/p&gt;</content><author><name>Curated by Chee Yeo - 2018</name></author><summary type="html">While trying to figure out a hardware issue during startup, I discovered that on systemd systems, the journald daemon collects logs from early in the boot process.</summary></entry><entry><title type="html">yum update Protected multilib versions</title><link href="https://tilrnt.github.io/redhat/linux/2018/04/12/yum-update-protected-multilib-versions.html" rel="alternate" type="text/html" title="yum update Protected multilib versions" /><published>2018-04-12T01:00:00+01:00</published><updated>2018-04-12T01:00:00+01:00</updated><id>https://tilrnt.github.io/redhat/linux/2018/04/12/yum-update-protected-multilib-versions</id><content type="html" xml:base="https://tilrnt.github.io/redhat/linux/2018/04/12/yum-update-protected-multilib-versions.html">&lt;p&gt;During a recent &lt;code class=&quot;highlighter-rouge&quot;&gt;yum update&lt;/code&gt;, it failed with multiple lines of&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Error: Protected multilib versions:

iptables-1.4.21-24.el7.i686 != iptables-1.4.21-23.el7.x86_64

( more error lines like above )
....

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From above, what the above error means is that for that specific package, version “X” of an RPM is installed for architecture &lt;code class=&quot;highlighter-rouge&quot;&gt;x86_64&lt;/code&gt; while yum was also instructed to install version “Y” of that same rpm for architecture &lt;code class=&quot;highlighter-rouge&quot;&gt;i686&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Rather than resolving each depedency manually, I enabled the Workstation Optional RPMs repo to locate the missing rpms and the problem was resolved:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo subscription-manager repos --enable=rhel-7-workstation-optional-rpms

sudo yum clean-all

sudo rm -rf /var/cache/clean

sudo yum update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;additional-resources&quot;&gt;Additional Resources&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;(https://access.redhat.com/solutions/2256321)&quot;&gt;RedHat Support ticket&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;(https://support.hpe.com/hpsc/doc/public/display?docId=mmr_kc-0131971)&quot;&gt;Same Issue from HPE&lt;/a&gt;&lt;/p&gt;</content><author><name>Curated by Chee Yeo - 2018</name></author><summary type="html">During a recent yum update, it failed with multiple lines of</summary></entry><entry><title type="html">Using kube-proxy to access deployments</title><link href="https://tilrnt.github.io/kubernetes/kubectl/proxy/2018/04/09/access-internal-kubernetes-app.html" rel="alternate" type="text/html" title="Using kube-proxy to access deployments" /><published>2018-04-09T01:00:00+01:00</published><updated>2018-04-09T01:00:00+01:00</updated><id>https://tilrnt.github.io/kubernetes/kubectl/proxy/2018/04/09/access-internal-kubernetes-app</id><content type="html" xml:base="https://tilrnt.github.io/kubernetes/kubectl/proxy/2018/04/09/access-internal-kubernetes-app.html">&lt;p&gt;When we create a service on k8 cluster, it is often initialized with type of &lt;code class=&quot;highlighter-rouge&quot;&gt;ClusterIP&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;We can still access the service using &lt;code class=&quot;highlighter-rouge&quot;&gt;kubectl proxy&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;kubectl proxy&lt;/code&gt; allows one to interact with the API without the need for a Bearer token.&lt;/p&gt;

&lt;p&gt;Assuming we have a service called &lt;code class=&quot;highlighter-rouge&quot;&gt;guestbook&lt;/code&gt;, we can access it as below:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;kubectl proxy &amp;gt; /dev/null &amp;amp;

KC_PROXY_PID = $!

SERVICE_PREFIX=http://localhost:8001/api/v1/proxy

GUESTBOOK_URL = $SERVICE_PREFIX/namespaces/default/services/guestbook
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Curated by Chee Yeo - 2018</name></author><summary type="html">When we create a service on k8 cluster, it is often initialized with type of ClusterIP.</summary></entry><entry><title type="html">Resolving dep ensure conflicts</title><link href="https://tilrnt.github.io/golang/dep/2018/02/14/dep-ensure-conflicts.html" rel="alternate" type="text/html" title="Resolving dep ensure conflicts" /><published>2018-02-14T00:00:00+00:00</published><updated>2018-02-14T00:00:00+00:00</updated><id>https://tilrnt.github.io/golang/dep/2018/02/14/dep-ensure-conflicts</id><content type="html" xml:base="https://tilrnt.github.io/golang/dep/2018/02/14/dep-ensure-conflicts.html">&lt;p&gt;Sometimes when collborating on a golang project, it is possible to get dependency conflicts after running&lt;code class=&quot;highlighter-rouge&quot;&gt;dep ensure&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The following is an approach I take to resolve them:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Run &lt;code class=&quot;highlighter-rouge&quot;&gt;dep ensure -v&lt;/code&gt; with verbose to debug the issue.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Delete the repo’s Gopkg.lock&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Clear out the ~GOPATH/src/pkg directory&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Re-run &lt;code class=&quot;highlighter-rouge&quot;&gt;dep ensure -v&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>Curated by Chee Yeo - 2018</name></author><summary type="html">Sometimes when collborating on a golang project, it is possible to get dependency conflicts after runningdep ensure.</summary></entry><entry><title type="html">Using virtualenv in python</title><link href="https://tilrnt.github.io/python/virtualenv/2018/02/14/virtualenv.html" rel="alternate" type="text/html" title="Using virtualenv in python" /><published>2018-02-14T00:00:00+00:00</published><updated>2018-02-14T00:00:00+00:00</updated><id>https://tilrnt.github.io/python/virtualenv/2018/02/14/virtualenv</id><content type="html" xml:base="https://tilrnt.github.io/python/virtualenv/2018/02/14/virtualenv.html">&lt;p&gt;When working with python, sometimes it is important to create isolated environments due to compatibility issues with the libs being used. Some examples that come to mind is the dependency of pyOpenSSL lib by certbot or setting up a deep learning environment.&lt;/p&gt;

&lt;p&gt;To install virtualenv:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pip install virtualenv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To create an isolated environment based on a specific python version:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;virtualenv -p /usr/bin/python2.7 &amp;lt;path to env&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Without the -p option, virtualenv defaults to the current python version.&lt;/p&gt;

&lt;p&gt;To activate the virtualenv:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;source &amp;lt;path to env&amp;gt;/bin/activate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You should see the name of the virtualenv in brackets to the left of the terminal. As an extra step, do python -v to check that the version is the one specified above.&lt;/p&gt;

&lt;p&gt;To exit the virtualenv and return to the terminal:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;deactivate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also install virtualenvwrapper as it provides some useful utility commands to list and create virtualenvs:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pip install virtualenvwrapper
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To list all available virtualenvs, for example:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;lsvirtualenv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;additional-resources&quot;&gt;Additional Resources&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://virtualenv.pypa.io/en/stable/&quot;&gt;virtualenv docs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://virtualenvwrapper.readthedocs.io/en/latest/index.html&quot;&gt;virtualenvwrapper docs&lt;/a&gt;&lt;/p&gt;</content><author><name>Curated by Chee Yeo - 2018</name></author><summary type="html">When working with python, sometimes it is important to create isolated environments due to compatibility issues with the libs being used. Some examples that come to mind is the dependency of pyOpenSSL lib by certbot or setting up a deep learning environment.</summary></entry><entry><title type="html">golang pointer receiver error</title><link href="https://tilrnt.github.io/go/golang/error/2018/02/12/go-pointer-receiver-error.html" rel="alternate" type="text/html" title="golang pointer receiver error" /><published>2018-02-12T00:00:00+00:00</published><updated>2018-02-12T00:00:00+00:00</updated><id>https://tilrnt.github.io/go/golang/error/2018/02/12/go-pointer-receiver-error</id><content type="html" xml:base="https://tilrnt.github.io/go/golang/error/2018/02/12/go-pointer-receiver-error.html">&lt;p&gt;Assuming we have an interface declaration in go as so:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;type Stringer interface {
  String() string
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We can create a custom struct to implement the interface like so:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;type struct MyStruct{
  Value string
}

func (m *MyStruct) String() string {
  return m.Value
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If we try to assign a type of MyStruct to the Stringer interface, we will receive an error of __ MyType does not implement Stringer (String method has pointer receiver)__&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mytype := MyStruct{Value: &quot;test&quot;}

var s Stringer
s = m // throws the error above
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is because the interface is defined on pointer types of &lt;strong&gt;*MyType&lt;/strong&gt; and not the types of &lt;strong&gt;MyType&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;To fix the error we just need to use the pointer type:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mytype := MyStruct{Value: &quot;test&quot;}

var s Stringer
s = &amp;amp;m // no errors
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Curated by Chee Yeo - 2018</name></author><summary type="html">Assuming we have an interface declaration in go as so:</summary></entry><entry><title type="html">Vendoring private github repos using dep</title><link href="https://tilrnt.github.io/go/golang/dep/2018/01/14/dep-ensure-private-repo.html" rel="alternate" type="text/html" title="Vendoring private github repos using dep" /><published>2018-01-14T00:00:00+00:00</published><updated>2018-01-14T00:00:00+00:00</updated><id>https://tilrnt.github.io/go/golang/dep/2018/01/14/dep-ensure-private-repo</id><content type="html" xml:base="https://tilrnt.github.io/go/golang/dep/2018/01/14/dep-ensure-private-repo.html">&lt;p&gt;When using &lt;code class=&quot;highlighter-rouge&quot;&gt;dep&lt;/code&gt; for vendoring dependencies in a go project, I came across the issue of pulling down a private github repo. &lt;code class=&quot;highlighter-rouge&quot;&gt;dep ensure -v&lt;/code&gt; keeps reporting of an error with the repo.&lt;/p&gt;

&lt;p&gt;To overcome this, you can create a &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.netrc&lt;/code&gt; with your credentials to access the private repo. For example, when using github, you first need to create an &lt;code class=&quot;highlighter-rouge&quot;&gt;Personal Github Token&lt;/code&gt; within your &lt;code class=&quot;highlighter-rouge&quot;&gt;Account Settings&lt;/code&gt;. Then create a &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.netrc&lt;/code&gt; file with the following format:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;machine github.com
    login [GITHUB USERNAME]
    password [GITHUB TOKEN]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is also documented in the dep repo:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/golang/dep/blob/master/docs/FAQ.md#how-do-i-get-dep-to-consume-private-git-repos-using-a-github-token&quot;&gt;Private git repos using github token&lt;/a&gt;&lt;/p&gt;</content><author><name>Curated by Chee Yeo - 2018</name></author><summary type="html">When using dep for vendoring dependencies in a go project, I came across the issue of pulling down a private github repo. dep ensure -v keeps reporting of an error with the repo.</summary></entry><entry><title type="html">Kubectl and KUBECONFIG</title><link href="https://tilrnt.github.io/kubernetes/kubectl/2018/01/12/kubectl-kubeconfig.html" rel="alternate" type="text/html" title="Kubectl and KUBECONFIG" /><published>2018-01-12T00:00:00+00:00</published><updated>2018-01-12T00:00:00+00:00</updated><id>https://tilrnt.github.io/kubernetes/kubectl/2018/01/12/kubectl-kubeconfig</id><content type="html" xml:base="https://tilrnt.github.io/kubernetes/kubectl/2018/01/12/kubectl-kubeconfig.html">&lt;p&gt;While working on a kubernetes based project, I had to set the &lt;strong&gt;$KUBECONFIG&lt;/strong&gt; env variable in order to access a private cluster.&lt;/p&gt;

&lt;p&gt;Later, I started &lt;strong&gt;minikube&lt;/strong&gt; and ran &lt;strong&gt;kubectl config view&lt;/strong&gt;. This resulted in all my kubectl calls to the private cluster failing.&lt;/p&gt;

&lt;p&gt;The reason is due to the way kubectl config behaves when it detects the &lt;strong&gt;$KUBECONFIG&lt;/strong&gt; env variable. According to the docs:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;kubectl config &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt;

Modify kubeconfig files using subcommands like &lt;span class=&quot;s2&quot;&gt;&quot;kubectl config set current-context my-context&quot;&lt;/span&gt;

The loading order follows these rules:

  1. If the &lt;span class=&quot;nt&quot;&gt;--kubeconfig&lt;/span&gt; flag is &lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;, &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;only that file is loaded.  The flag may only be &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;once
and no merging takes place.

  2. If &lt;span class=&quot;nv&quot;&gt;$KUBECONFIG&lt;/span&gt; environment variable is &lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;, &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;it is used a list of paths &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;normal path
delimitting rules &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;your system&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;  These paths are merged.  When a value is modified, it is
modified &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;the file that defines the stanza.  When a value is created, it is created &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;the first
file that exists.  If no files &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;the chain exist, &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;it creates the last file &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;the list.

  3. Otherwise, &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;HOME&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/.kube/config is used and no merging takes place.&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;As stated in point 2 above, since my &lt;strong&gt;$KUEBCONFIG&lt;/strong&gt; is still present, when I started minikube, it merges the minikube settings into file pointed to by &lt;strong&gt;$KUBECONFIG&lt;/strong&gt;, updating it by merging the contents of minikube, and sets minikube as the current context. Which is why all the kubectl calls are going to the minikube cluster only.&lt;/p&gt;

&lt;p&gt;As a note to self, I need to remember to&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nb&quot;&gt;unset&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$KUBECONFIG&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name>Curated by Chee Yeo - 2018</name></author><summary type="html">While working on a kubernetes based project, I had to set the $KUBECONFIG env variable in order to access a private cluster.</summary></entry><entry><title type="html">Redhat Subscription Renewal</title><link href="https://tilrnt.github.io/redhat/linux/2018/01/08/redhat-subscription-renewal.html" rel="alternate" type="text/html" title="Redhat Subscription Renewal" /><published>2018-01-08T00:00:00+00:00</published><updated>2018-01-08T00:00:00+00:00</updated><id>https://tilrnt.github.io/redhat/linux/2018/01/08/redhat-subscription-renewal</id><content type="html" xml:base="https://tilrnt.github.io/redhat/linux/2018/01/08/redhat-subscription-renewal.html">&lt;p&gt;Recently I had to update my Redhat subscription.&lt;/p&gt;

&lt;p&gt;Afterwards, the &lt;strong&gt;subscription-manager&lt;/strong&gt; application kept showing as “No valid subscriptions found”. This was caused by a mismatch between the type of RHEL system I was running and the actual subscription type itself.&lt;/p&gt;

&lt;p&gt;To ensure that one renews to the right subscription type, simply use the following:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; /etc/redhat-release&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name>Curated by Chee Yeo - 2018</name></author><summary type="html">Recently I had to update my Redhat subscription.</summary></entry><entry><title type="html">Checking for open ports in go lang</title><link href="https://tilrnt.github.io/golang/network/2017/12/30/golang-check-for-open-ports.html" rel="alternate" type="text/html" title="Checking for open ports in go lang" /><published>2017-12-30T00:00:00+00:00</published><updated>2017-12-30T00:00:00+00:00</updated><id>https://tilrnt.github.io/golang/network/2017/12/30/golang-check-for-open-ports</id><content type="html" xml:base="https://tilrnt.github.io/golang/network/2017/12/30/golang-check-for-open-ports.html">&lt;p&gt;I had to create a periodic status check for an open port on a specific host for a service I was creating recently. The status check has to work for both the localhost in development and also on the remote host.&lt;/p&gt;

&lt;p&gt;Using the [net][net pkg] package in &lt;strong&gt;Go&lt;/strong&gt; I was able to come up with the following snippet for testing the localhost port:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;net&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;net&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Listen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tcp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;:&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// Log or report the error here&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Error: %s&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;We use [Listen][net pkg Listen] above as it works for localhost only.&lt;/p&gt;

&lt;p&gt;For testing the remote port, we can use [DialTimeout][net pkg DialTimeout] as it accepts a custom timeout parameter, which we can use to check for timeout errors:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;net&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;time&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// host -&amp;gt; the remote host&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// timeoutSecs -&amp;gt; the timeout value&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;net&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DialTimeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tcp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Duration&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeoutSecs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Second&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;net&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OpError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TimeOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Timeout error: %s&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// Log or report the error here&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Error: %s&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;resources&quot;&gt;Resources&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://golang.org/pkg/net/&quot;&gt;net pkg&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://golang.org/pkg/net/#Listen&quot;&gt;net pkg Listen&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://golang.org/pkg/net/#DialTimeout&quot;&gt;net pkg DialTimeout&lt;/a&gt;&lt;/p&gt;</content><author><name>Curated by Chee Yeo - 2018</name></author><summary type="html">I had to create a periodic status check for an open port on a specific host for a service I was creating recently. The status check has to work for both the localhost in development and also on the remote host.</summary></entry></feed>